<!--
For now Fastlane need to be run in a webwiew
because Uber Api can only authorize users with callbacks
and surge also need the callback id to confirme the
rate limit. This is not optimal but it works for now...
-->

<style type="text/css">
  body {
    width: 340px;
    height: 495px;
    padding: 0;
    margin: 18px 0 0;
    position: relative;
  }

  body:after {
    bottom: 100%;
    left: 50%;
    border: solid transparent;
    content: '';
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
    border-color: rgba(12, 17, 26, 0);
    border-bottom-color: #0C111A;
    border-width: 18px;
    margin-left: -18px;
  }

  /*.back {
    cursor: pointer;
    position: fixed;
    top: 38px;
    left: 20px;
    color: #fff;
  }*/
</style>

<!-- <a class="back" href="http://localhost:5555">X</a> -->

<webview
  id="uber"
  src="http://localhost:5555"
  minwidth="340"
  minheight="515"
  partition="persist:fastlane"
  useragent="Fastlane">
</webview>

<script>
  var app = document.getElementById('uber');

  // This is needed to remove facebook login and hide links to browse uber.com
  app.addEventListener('dom-ready', function() {
    app.insertCSS([
      '.btn--link',
      '.text-uber-white',
      'p.text--center',
      '.btn--facebook',
    ].join() + '{display:none!important;}');
    app.insertCSS('header.contextual {position:fixed !important;} .wrapper {padding-top: 80px !important;}');
    app.openDevTools();
  });

</script>
